#!/bin/bash

# Tool to copy and paste dotfiles.
# Adam Heins

DOTFILES=(.zsh .zshrc
          .gitconfig .gitignore
          .vimrc .vim
          .tmux.conf)

if [ ! -d files ]; then
  echo "no dotfiles are here"
  exit 1
fi

[ -d backup ] && rm -rf backup
mkdir backup

for file in ${DOTFILES[@]}; do
  [ -e ~/"$file" ] && rsync -r ~/"$file" "backup"
  if [ -e "files/$file" ]; then
    [ -e ~/"$file" ] && rm -rf ~/"$file"
    ln -s $(realpath "files/$file") ~/"$file"
  fi
done
